@model List<Harcamalar>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Layout/_Layout.cshtml";
}

<div class="bg-gray-800 pt-3">
    <div class="rounded-tl-3xl bg-gradient-to-r from-blue-900 to-gray-800 p-4 shadow text-2xl text-white">
        <h1 class="font-bold pl-2">Harcamalar</h1>
    </div>
</div>

<div class="container mt-5">
    <h1 class="mb-4">Harcamalar</h1>

    <div class="card shadow">
        <div class="card-header bg-primary text-white">
            <h5 class="mb-0">Harcama Listesi (Toplam @ViewBag.TotalItems kayıt)</h5>
        </div>

        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-striped table-hover">
                    <thead class="thead-dark">
                        <tr>
                            <th>Başlık</th>
                            <th>Açıklama</th>
                            <th>Tutar</th>
                            <th>Tarih</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var harcama in Model)
                        {
                            <tr>
                                <td>@harcama.Title</td>
                                <td>@harcama.Description</td>
                                <td>@harcama.Price</td>
                                <td>@harcama.Date.ToString("dd.MM.yyyy")</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <nav aria-label="Page navigation">
                <ul class="pagination justify-content-center">
                    @if (ViewBag.CurrentPage > 1)
                    {
                        <li class="page-item">
                            <a class="page-link" href="@Url.Action("Index", new { page = ViewBag.CurrentPage - 1 })">Önceki</a>
                        </li>
                    }

                    @for (int i = 1; i <= ViewBag.TotalPages; i++)
                    {
                        <li class="page-item @(i == ViewBag.CurrentPage ? "active" : "")">
                            <a class="page-link" href="@Url.Action("Index", new { page = i })">@i</a>
                        </li>
                    }

                    @if (ViewBag.CurrentPage < ViewBag.TotalPages)
                    {
                        <li class="page-item">
                            <a class="page-link" href="@Url.Action("Index", new { page = ViewBag.CurrentPage + 1 })">Sonraki</a>
                        </li>
                    }
                </ul>
            </nav>

            <div class="text-center text-muted">
                Sayfa @ViewBag.CurrentPage / @ViewBag.TotalPages (Toplam @ViewBag.TotalItems kayıt)
            </div>
        </div>
    </div>
</div>

<style>
    .table th {
        background-color: #343a40;
        color: white;
    }

    .pagination .page-item.active .page-link {
        background-color: #007bff;
        border-color: #007bff;
    }

    .pagination .page-link {
        color: #007bff;
    }
</style>

